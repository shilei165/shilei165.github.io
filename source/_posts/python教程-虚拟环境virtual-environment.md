---
title: Python教程--虚拟环境(Virtual Environment)
tags:
  - python
  - virtual environment
  - 教程
  - 编程
  - 虚拟环境
id: '879'
categories:
  - 技术杂谈
  - Python
date: 2021-01-13 16:47:15
---

**这篇文章中将会分享python中关于虚拟环境 (virtual environment) 相关的一些知识。**
<!-- more -->
# **一、什么是虚拟环境？**

虚拟环境就是借助虚拟机docker来把一部分内容独立出来，我们把这部分独立出来的东西称作“容器”，在这个容器中，我们可以只安装我们需要的依赖包，各个容器之间互相隔离，互不影响。

在实际项目开发中，我们通常会根据自己的需求去下载各种相应的框架库，如Scrapy、Beautiful Soup等，但是可能每个项目使用的框架库并不一样，或使用框架的版本不一样，这样需要我们根据需求不断的更新或卸载相应的库。直接对我们的Python环境操作会让我们的开发环境和项目造成很多不必要的麻烦，管理也相当混乱。

比如，项目A需要某个框架1.0版本，项目B需要这个库的2.0版本。如果没有安装虚拟环境，那么当你使用这两个项目时，你就需要来回的卸载安装，这样很容易就给你的项目带来很多麻烦。所以在用python进行多个项目操作时，安装虚拟环境还是十分有必要的。

# **二、如何安装虚拟环境**

在电脑终端输入以下指令即可安装虚拟环境：

```
pip install virtualenv
```

通过上面的步骤安装成功之后，我们就可以创建虚拟环境了。首先新建一个虚拟环境所用的文件夹，以Environments为例，然后在这个文件夹下面就可以存放不同项目的虚拟环境了。新建完文件夹之后，cd 指令在终端进入所在文件夹，使用以下指令建立名为project1\_env的虚拟环境:

```
virtualenv project1_evn
```

然后对应的虚拟环境就会在当前所在目录进行创建。

# **三、激活和退出虚拟环境**

如果们要使用这个名为project1\_env的虚拟环境，我们就需要对其进行激活。在mac和linux上使用以下指令，可将其激活：

```
source ./bin/activate
```

在windows系统上略微有点不同，代码为：

```
.\Scripts\activate.bat
```

在使用完虚拟环境之后，mac和linux系统上可以使用以下指令推出虚拟环境：

```
deactivate
```

在windows上则为：

```
.\Scripts\deactivate.bat
```

如果一个项目完结了，或者说测试完成了，我们不再需要这个虚拟环境之后。我们只需要将对应的文件夹删除即可删除我们所创建的虚拟环境。

# **四、使用特定版本的python创建虚拟环境**

使用以下指令即可创建一个依赖于特定python版本的虚拟环境：

```
virtualenv -p usr/bin/python 2.7 py27_env
```

其中usr/bin/python 2.7为计算机中存放python的位置，可以通过which python指令来进行查看。py27\_env为我们所创建的虚拟环境。

* * *

