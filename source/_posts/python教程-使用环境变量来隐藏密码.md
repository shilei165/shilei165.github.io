---
title: Python教程--使用环境变量来隐藏密码
tags:
  - python
  - 教程
  - 环境变量
  - 编程
id: '891'
categories:
  - 技术杂谈
  - Python
date: 2021-01-17 14:06:13
---

**这篇文章中将会分享如何在Mac和Linux系统下设置环境变量，从而在代码中隐藏密码等相关个人信息的相关知识。**
<!-- more -->
在编写程序代码的时候，往往会涉及到一些登录的相关操作。这时候就需要在程序中输入账号和密码等相关个人信息。如果我们在分享代码的时候，没有注意就会把个人信息给泄露了。所以通过设置环境变量来隐藏个人信息就显得非常有必要。

# **一、设置环境变量**

比如，我们需要在程序中登陆一个数据库。账号和密码如下：

```
db_user = my_db_user
db_password = my_db_pass123!
```

我们怎么在mac和linux系统中设置环境变量来隐藏这些信息呢？

首先，打开终端。输入nano .bash\_profile，也就是使用nano编辑器来编辑.bash\_profile这个储存环境变量的文件。进入nano编辑器之后，输入以下代码来设置环境变量：

```
export DB_USER='my_db_user'
export DB_PASS='my_db_pass123!'
```

**这里一定要注意：**等号前后不要有空格。

然后我们编辑好之后按Ctr+O来保存文件，Enter之后，再按Ctr+X来退出编辑。再终端输入以下代码使得我们刚刚设置的环境变量生效：

```
source ~/.bash_profile
```

然后在终端输入以下代码来确定环境变量是否生效：

```
echo $DB_USER
echo $DB_PASS
```

如果输出我们刚刚设定的账号和密码说明已经生效。如果没有生效，这时候我们可能需要重启shell和python（也可以直接重启电脑）来使其生效。

对于某些linux版本，可能储存环境变量的位置有所变化。如果.bash\_profile无效，可以试一下设置.zshrc和 .bashrc文件。

# **二、调用环境变量**

设置好之后，我们接下来就要调用我们刚刚设置的环境变量了。在python中我们首先需要引入os模块，来寻找路径。然后，我们就可以通过os模块来调用环境变量了，具体代码如下：

```
import os

db_user =os.environ.get('DB_USER')          
db_password =os.environ.get('DB_PASS') 
```

这时候，我们就可以成功调用环境变量来隐藏密码了。

注意：在使用之前，我们也可以通过将 db\_user，和db\_password的值打印出来来确定是否成功调用环境变量。

* * *

